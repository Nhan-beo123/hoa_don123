<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <title>HÃ³a Ä‘Æ¡n mÃ³n Äƒn</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="container">
    <h1>ğŸ§¾ HÃ³a Ä‘Æ¡n mÃ³n Äƒn</h1>
    <ul id="food-list"></ul>
    <h2 id="total"></h2>

    <h3>MÃ£ QR chuyá»ƒn khoáº£n (VNPAY):</h3>
    <img class="qr-image" src="qr-nganhang.jpg" alt="QR chuyá»ƒn khoáº£n" />
    <p><b>NgÃ¢n hÃ ng:</b> OCB</p>
    <p><b>Sá»‘ tÃ i khoáº£n:</b> 0364128587</p>
    <p><b>TÃªn ngÆ°á»i nháº­n:</b> NgÃ´ Trá»ng NhÃ¢n</p>
  </div>

  <script>
    fetch("menu_data.json")
      .then(response => response.json())
      .then(detectedFoods => {
        const foodList = document.getElementById("food-list");
        const totalEl = document.getElementById("total");
        let total = 0;

        detectedFoods.forEach(item => {
          const li = document.createElement("li");

          // Táº¡o tÃªn file áº£nh vÃ  sticker dá»±a trÃªn tÃªn mÃ³n
          const imageName = item.name
            .normalize("NFD").replace(/[\u0300-\u036f]/g, "") // xoÃ¡ dáº¥u
            .replace(/Ä‘/g, "d").replace(/Ä/g, "d")           // xá»­ lÃ½ Ä‘/Ä
            .toLowerCase().replace(/\s+/g, "_") + ".jpg";

          // Sticker
          const sticker = document.createElement("img");
          sticker.src = `stickers/${filenameBase}.png`;
          sticker.alt = "icon";
          sticker.classList.add("sticker-icon");

          // áº¢nh mÃ³n
          const img = document.createElement("img");
          img.src = `images/${filenameBase}.jpg`;
          img.alt = item.name;
          img.classList.add("food-image");

          // TÃªn mÃ³n + giÃ¡
          const text = document.createElement("span");
          text.textContent = `${item.name} - ${item.price.toLocaleString()}Ä‘`;

          li.appendChild(sticker);  // sticker trÆ°á»›c
          li.appendChild(img);      // áº£nh mÃ³n
          li.appendChild(text);     // ná»™i dung

          foodList.appendChild(li);
          total += item.price;
        });

        totalEl.textContent = `Tá»•ng cá»™ng: ${total.toLocaleString()}Ä‘`;
      })
      .catch(error => {
        console.error("KhÃ´ng load Ä‘Æ°á»£c menu_data.json:", error);
      });
  </script>
</body>
</html>
