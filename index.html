<script>
  fetch("menu_data.json")
    .then(response => response.json())
    .then(detectedFoods => {
      const foodList = document.getElementById("food-list");
      const totalEl = document.getElementById("total");
      let total = 0;

      detectedFoods.forEach(item => {
        const li = document.createElement("li");

        // Tạo base name cho ảnh/sticker từ tên món ăn
        const filenameBase = item.name
          .normalize("NFD").replace(/[\u0300-\u036f]/g, "") // xoá dấu
          .replace(/đ/g, "d").replace(/Đ/g, "d")            // đ/Đ → d
          .toLowerCase().replace(/\s+/g, "_");

        // Sticker
        const sticker = document.createElement("img");
        sticker.src = `stickers/${filenameBase}.png`;
        sticker.alt = "icon";
        sticker.classList.add("sticker-icon");

        // Ảnh món ăn
        const img = document.createElement("img");
        img.src = `images/${filenameBase}.jpg`;
        img.alt = item.name;
        img.classList.add("food-image");

        // Tên + giá
        const text = document.createElement("span");
        text.textContent = `${item.name} - ${item.price.toLocaleString()}đ`;

        li.appendChild(sticker);
        li.appendChild(img);
        li.appendChild(text);

        foodList.appendChild(li);
        total += item.price;
      });

      totalEl.textContent = `Tổng cộng: ${total.toLocaleString()}đ`;
    })
    .catch(error => {
      console.error("Không load được menu_data.json:", error);
    });
</script>

